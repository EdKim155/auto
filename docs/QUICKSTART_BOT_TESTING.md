# Быстрый старт - Тестирование @ACarriers_bot

## Зачем это нужно?

Этот инструмент помогает протестировать взаимодействие с ботом @ACarriers_bot, чтобы:
- Понять, как бот реагирует на команды и нажатия кнопок
- Выявить все доступные кнопки и меню
- Настроить автоматизацию для корректного взаимодействия с ботом

## Запуск за 3 шага

### 1. Убедитесь что установлены зависимости

```bash
pip install -r requirements.txt
```

### 2. Проверьте файл .env

Убедитесь что в `.env` указаны учетные данные:
```
API_ID=27270483
API_HASH=054487666c6a886114b50b6210e8c051
PHONE=+79507380505
```

### 3. Запустите тестер

```bash
python run_bot_test.py
```

Выберите режим:
- **Вариант 1** (быстро) - Автоматический тест
- **Вариант 2** (рекомендуется) - Интерактивный режим с полным контролем

---

## Интерактивный режим - Основные команды

После запуска интерактивного режима бот автоматически отправит `/start`.

Вы увидите список кнопок и сможете:

```
> l          # Показать все доступные кнопки
> 1          # Нажать первую кнопку
> 2          # Нажать вторую кнопку
> h          # Посмотреть историю всех сообщений
> v          # Посмотреть какие кнопки уже нажимали
> sum        # Показать статистику
> q          # Выйти
```

### Пример сессии:

```bash
# Запуск
python test_acarriers_bot_interactive.py

# В консоли появится:
> l                           # Посмотреть кнопки
# Бот покажет:
# [1] ✓ Список прямых перевозок
# [2] ✓ Мои заказы
# [3] ❌ [FORBIDDEN] Подтвердить

> 1                           # Нажать "Список прямых перевозок"
# Бот покажет новые кнопки

> l                           # Посмотреть новые кнопки
# [1] ✓ Перевозка #123
# [2] ✓ Перевозка #124
# [3] ✓ Назад в меню

> 3                           # Вернуться в меню
> sum                         # Показать что сделали
> q                           # Выйти
```

---

## Что происходит?

### Логи в реальном времени

Вся информация выводится в консоль:
- Текст сообщений от бота
- Список всех кнопок с их номерами
- Какие кнопки запрещены (содержат "подтвердить")
- Результаты нажатий

### Файл с полным логом

Все действия сохраняются в файл:
- `test_acarriers_bot_interactive.log` - для интерактивного режима
- `test_acarriers_bot.log` - для автоматического режима

Можно открыть и посмотреть детали позже.

---

## Защита от ошибок

### Запрещенные кнопки

Кнопки содержащие эти слова **не будут нажаты**:
- подтвердить
- забронировать
- взять
- беру

При попытке нажать такую кнопку вы увидите:
```
❌ FORBIDDEN BUTTON: 'Подтвердить заказ' - CANNOT CLICK!
This button is blocked to prevent unwanted actions.
Do you really want to click it? (type 'YES' to confirm):
```

Нужно ввести `YES` (заглавными!) для подтверждения.

---

## Что дальше?

После тестирования вы будете знать:
1. **Структуру меню бота** - какие кнопки доступны
2. **Тексты кнопок** - точные названия для настройки автоматизации
3. **Порядок действий** - как бот реагирует на нажатия
4. **Время отклика** - как быстро бот отвечает

Эта информация поможет настроить `bot_automation.py` для корректной автоматизации.

---

## Проблемы?

**Бот не отвечает:**
- Проверьте что @ACarriers_bot доступен в Telegram
- Убедитесь что интернет работает

**Ошибка подключения:**
- Проверьте API_ID и API_HASH в .env
- Убедитесь что номер телефона правильный

**Session not found:**
- Просто перезапустите, создастся новая сессия

---

## Полная документация

Подробное руководство: [TEST_BOT_README.md](TEST_BOT_README.md)
