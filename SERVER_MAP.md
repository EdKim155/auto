# üìç –ö–∞—Ä—Ç–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–æ—Ñ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ auto-server (193.108.115.170)

## üóÇÔ∏è –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### `/root/auto/` - –≥–ª–∞–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```
/root/auto/
‚îú‚îÄ‚îÄ main.py                          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ bot_automation.py                # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ config.py                        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ control_bot.py                   # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ database.py                      # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ session_manager.py               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îú‚îÄ‚îÄ models.py                        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ requirements.txt                 # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ .env                            # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (chmod 600) üîí
‚îú‚îÄ‚îÄ .env.2nd                        # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è 2–π –≤–µ—Ä—Å–∏–∏ (chmod 600) üîí
‚îú‚îÄ‚îÄ .env.control_bot                # –ö–æ–Ω—Ñ–∏–≥ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (chmod 600) üîí
‚îÇ
‚îú‚îÄ‚îÄ bot_automation_session.session  # Telegram —Å–µ—Å—Å–∏—è 1 (chmod 600) üîí
‚îú‚îÄ‚îÄ telegram_session_2nd.session    # Telegram —Å–µ—Å—Å–∏—è 2 (chmod 600) üîí
‚îú‚îÄ‚îÄ control_panel.db                # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite (chmod 600) üîí
‚îÇ
‚îú‚îÄ‚îÄ modules/                        # –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ message_monitor.py          # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ sessions/                       # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Å—Å–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ session_+79507380505.session
‚îÇ
‚îú‚îÄ‚îÄ venv/                           # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îÇ   ‚îú‚îÄ‚îÄ bin/                        # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ python3                 # Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pip                     # –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ activate                # –°–∫—Ä–∏–ø—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ venv
‚îÇ   ‚îú‚îÄ‚îÄ lib/                        # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python
‚îÇ   ‚îî‚îÄ‚îÄ include/                    # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ
‚îî‚îÄ‚îÄ bot_automation.log              # –õ–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ä–∞—Å—Ç–µ—Ç)
```

## ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã

### `/etc/systemd/system/telegram-bot.service`
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è systemd-—Å–µ—Ä–≤–∏—Å–∞**
- –û–ø–∏—Å–∞–Ω–∏–µ: Telegram Bot Automation
- –¢–∏–ø: simple
- –ö–æ–º–∞–Ω–¥–∞: `/root/auto/venv/bin/python3 /root/auto/main.py`
- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫: enabled ‚úÖ
- –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫: always (–∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ —Å–±–æ–µ)

### `/var/log/telegram-bot.log`
**–û—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥**
- –§–æ—Ä–º–∞—Ç: append (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
- –†–∞–∑–º–µ—Ä: 4.2KB (—Ä–∞—Å—Ç–µ—Ç)
- –ü—Ä–∞–≤–∞: 644

## üêç Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ü—É—Ç—å: `/root/auto/venv/`
- Python: 3.12.3
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è: `source /root/auto/venv/bin/activate`

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
```
anyio==4.11.0
certifi==2025.11.12
greenlet==3.2.4
h11==0.16.0
httpcore==1.0.9
httpx==0.28.1
idna==3.11
pyaes==1.6.1
pyasn1==0.6.1
python-dotenv==1.2.1
python-telegram-bot==22.5
rsa==4.9.1
sniffio==1.3.1
SQLAlchemy==2.0.44
Telethon==1.42.0
typing_extensions==4.15.0
```

## üìù –†–∞–±–æ—á–∏–µ —Ñ–∞–π–ª—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (chmod 600)
- `/root/auto/.env` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `/root/auto/.env.2nd` - –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –±–æ—Ç–∞
- `/root/auto/.env.control_bot` - –∫–æ–Ω—Ñ–∏–≥ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°–µ—Å—Å–∏–∏ Telegram (chmod 600)
- `/root/auto/bot_automation_session.session` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Å—Å–∏—è
- `/root/auto/telegram_session_2nd.session` - –≤—Ç–æ—Ä–∞—è —Å–µ—Å—Å–∏—è
- `/root/auto/sessions/session_+79507380505.session` - –¥–æ–ø. —Å–µ—Å—Å–∏—è

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (chmod 600)
- `/root/auto/control_panel.db` - SQLite –±–∞–∑–∞ (36KB)

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å

### –ó–∞–ø—É—â–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å
```
PID: 4734
–ö–æ–º–∞–Ω–¥–∞: /root/auto/venv/bin/python3 /root/auto/main.py
–°—Ç–∞—Ç—É—Å: active (running)
–ü–∞–º—è—Ç—å: 37.3M
CPU: 388ms
–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫: enabled
```

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã systemctl
```bash
systemctl status telegram-bot.service   # –°—Ç–∞—Ç—É—Å
systemctl start telegram-bot.service    # –ó–∞–ø—É—Å–∫
systemctl stop telegram-bot.service     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
systemctl restart telegram-bot.service  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl enable telegram-bot.service   # –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
systemctl disable telegram-bot.service  # –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
journalctl -u telegram-bot.service -f              # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ (realtime)
tail -f /var/log/telegram-bot.log                 # –°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥
tail -f /root/auto/bot_automation.log             # –õ–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
```bash
cd /root/auto                           # –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
source venv/bin/activate                # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
python main.py                          # –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é
deactivate                              # –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (chmod 600)
- –í—Å–µ `.env*` —Ñ–∞–π–ª—ã
- –í—Å–µ `*.session` —Ñ–∞–π–ª—ã
- –í—Å–µ `*.db` —Ñ–∞–π–ª—ã

### SSH –¥–æ—Å—Ç—É–ø
```bash
ssh auto-server                         # –ß–µ—Ä–µ–∑ –∞–ª–∏–∞—Å
ssh root@193.108.115.170               # –ù–∞–ø—Ä—è–º—É—é
```

## üíæ –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

### –ù–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (aprel-server)
- `/root/auto_backup_20251123_194254.tar.gz` (141KB)

### –õ–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ)
- `/Users/edgark/auto/migration/backups/auto_backup_20251123_194254.tar.gz`
- SHA256: `7f5a45032bce23ece89616bc921e8eb1404a379d647c53bf4ab6ba43236364a4`

---
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 23 –Ω–æ—è–±—Ä—è 2024, –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
